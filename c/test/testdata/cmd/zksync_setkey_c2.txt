:: cmd in3 -debug -zks http://localhost:3030 -c http://localhost:8545 -fi zksync_setkey_c2.txt -zc2 0x8550d8cf1107f94b8b51a35ef62958183d351267:0xff4a87cfa3a8ff272fdfc293d2a9ba38199a1d0c8230eba67ac1b86d5b86e194:0x61f6a1a04826ca1643ae547825c0a4c96e6e3c802c454fc4ecf81b66babb4c03 -zsk 0xd818beb367732ed0bc2ada1750fcce827040edf96ea3cdacf420b5c3cb1456df zksync_setKey ETH

:: time 1611139078

:: cache nodelist_1_0xac1b824795e1eb1f6e609fe0da9b9af8beaab60f 0

:: cache nodelist_5_0x5f51e413581dd76759e9eed51e63d14c8d1379c8 0

:: cache nodelist_2000_0xa93b57289070550c82edb1106e12bb37138948b8 0

:: cache nodelist_153_0xc2c05fbfe76ee7748ae5f5b61b57a46cc4061c32 0

:: cache nodelist_246_0x039562872008f7a76674a6e7842804f0ad37cb13 0

:: cache nodelist_17_0xf0fb87f4757c77ea3416afe87f36acaa0496c7e9 0

:: request http://localhost:3030 
     [{"id":2,"jsonrpc":"2.0","method":"account_info","params":["0x8f6883b78d71ac2871f4b01d6fc5e047ccecfd02"]}]

:: response account_info 0 http://localhost:3030 0 213
[{
  "jsonrpc":"2.0",
  "result":{
    "address":"0x8f6883b78d71ac2871f4b01d6fc5e047ccecfd02",
    "id":7,
    "depositing":{
      "balances":{
        
      }
    },
    "committed":{
      "balances":{
        "ETH":"1500000000000000000"
      },
      "nonce":0,
      "pubKeyHash":"sync:0000000000000000000000000000000000000000"
    },
    "verified":{
      "balances":{
        
      },
      "nonce":0,
      "pubKeyHash":"sync:0000000000000000000000000000000000000000"
    }
  },
  "id":2
}]


:: cache zksync_tokens_69f5 1
010044414900000000001264e9e65f1cee1fa5071d0075cd211e7b7274a444000300424154000000000012a41da0108ab9875d60169b8a9cd4c8a13b3b2ef20000004554480000000000120000000000000000000000000000000000000000000200774254430000000008cb18f9f65af976000931ca251741068e6aabbd2f0004004d4c545400000000124368e824754a7de8d8a82db5725c48a1e191cbc600

:: request http://localhost:3030 
     [{"id":3,"jsonrpc":"2.0","method":"get_tx_fee","params":[{"ChangePubKey":{"onchainPubkeyAuth":true}},"0x8f6883b78d71ac2871f4b01d6fc5e047ccecfd02","ETH"]}]

:: response get_tx_fee 0 http://localhost:3030 0 3
[{
  "jsonrpc":"2.0",
  "result":{
    "feeType":{
      "ChangePubKey":{
        "onchain_pubkey_auth":true
      }
    },
    "gasTxAmount":"9929",
    "gasPriceWei":"9000000000",
    "gasFee":"89361000000000",
    "zkpFee":"27318075799686",
    "totalFee":"116600000000000"
  },
  "id":3
}]


:: request http://localhost:3030 
     [{"id":4,"jsonrpc":"2.0","method":"tx_submit","params":[{"type":"ChangePubKey","accountId":7,"account":"0x8f6883b78d71ac2871f4b01d6fc5e047ccecfd02","newPkHash":"sync:41b98bc1f219e0defd42078d018826f4404f801c","feeToken":0,"fee":116600000000000,"nonce":0,"changePubkeyType":{"type":"Create2Contract","creatorAddress":"0x8550d8cf1107f94b8b51a35ef62958183d351267","saltArg":"0x61f6a1a04826ca1643ae547825c0a4c96e6e3c802c454fc4ecf81b66babb4c03","codeHash":"0xff4a87cfa3a8ff272fdfc293d2a9ba38199a1d0c8230eba67ac1b86d5b86e194"},"signature":{"pubKey":"7232c12955637f5fb5495ab9279bba0a0830bc48f72c6e0c380a2fe40888c8ac","signature":"3a7626b1f21607a9cc36bbffb7124c485f3a4ba3283839e34d355281734fbf0ba9eb0ba4998aa47d70e4042e927828957146931d0720bc31c0b2bc2fa5ee2803"},"ethSignature":null},null,false]}]

:: response tx_submit 0 http://localhost:3030 0 223
[{
  "jsonrpc":"2.0",
  "result":"sync-tx:b79fc15640a552da3d8cb06f003de74c170583ab0a21b74fd4dac69347e834e8",
  "id":4
}]


:: result
sync:41b98bc1f219e0defd42078d018826f4404f801c
